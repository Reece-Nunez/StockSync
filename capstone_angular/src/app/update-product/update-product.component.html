<div style="display: flex; flex-direction: column; align-items: center; padding-top: 10vh;" class="container" *ngIf="!isLoading; else loading">
  <h2>Update Product</h2>
  <form style="display: flex; flex-direction: column; width: 400px; align-items: center" [formGroup]="productForm" (ngSubmit)="updateProduct()" class="example-form">
    <mat-form-field appearance="fill">
      <mat-label>Name</mat-label>
      <input matInput formControlName="name">
      <mat-error *ngIf="productForm.get('name')?.errors?.['required']">
        Name is required.
      </mat-error>
      <mat-error *ngIf="productForm.get('name')?.errors?.['minlength'] || productForm.get('name')?.errors?.['maxlength']">
        Name must be between 3 and 100 characters.
      </mat-error>
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Description</mat-label>
      <textarea matInput formControlName="description"></textarea>
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Price</mat-label>
      <input matInput type="number" formControlName="price">
      <mat-error *ngIf="productForm.get('price')?.errors?.['required']">
        Price is required.
      </mat-error>
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Quantity</mat-label>
      <input matInput type="number" formControlName="quantity">
      <mat-error *ngIf="productForm.get('quantity')?.errors?.['required']">
        Quantity is required.
      </mat-error>
    </mat-form-field>

    <div class="actions">
      <button style="margin-right: 12px;" mat-raised-button color="primary" type="submit" [disabled]="!productForm.valid">Update</button>
      <button mat-raised-button color="accent" (click)="this.router.navigate(['/dashboard']);">Cancel</button>
    </div>
  </form>
</div>

<ng-template #loading>
  <div>Loading...</div>
</ng-template>
